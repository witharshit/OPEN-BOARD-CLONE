<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.1.0/css/all.min.css">
    <link rel="stylesheet" href="style.css">
</head> 

    <div class="toolbar">
        <body>
        <div class="tool" id="pencil">
            <img src="./icons/pencil-svgrepo-com.svg" alt="" class="tool-img">
            <div class="size-box">
                <!-- .size1+.size2+.size3 -->
                <div class="size1 size"></div>
                <div class="size2 size" ></div>
                <div class="size3 size"></div>
                <div class="size4 size"></div>
            </div>
        </div>
        <div class="tool" id="eraser">
            <img src="./icons/glue-stick-svgrepo-com.svg" alt="" class="tool-img">
            <div class="size-box">
                <!-- .size1+.size2+.size3 -->
                <div class="size1 size"></div>
                <div class="size2 size" ></div>
                <div class="size3 size"></div>
                <div class="size4 size"></div>
            </div>
        </div>
        <div class="tool" id="rect">
            <i class="fa-solid fa-square"></i>
            <div class="size-box">
                <!-- .size1+.size2+.size3 -->
                <div class="size1 size"></div>
                <div class="size2 size" ></div>
                <div class="size3 size"></div>
                <div class="size4 size"></div>
            </div>
        </div>
        <div class="tool" id="line">
            <i class="fa-solid fa-grip-lines-vertical"></i>
            <div class="size-box">
                <!-- .size1+.size2+.size3 -->
                <div class="size1 size"></div>
                <div class="size2 size" ></div>
                <div class="size3 size"></div>
                <div class="size4 size"></div>
            </div>
        </div>
        <div class="tool" id="sticky">
            <img src="./icons/sticky-note-svgrepo-com.svg" alt="" class="tool-img">
        </div>
        <!-- single unit -->
        <div class="color-container">
            <!-- .color*3 -->
            <div class="color red"></div>
            <div class="color blue"></div>
            <div class="color green"></div>
        </div>
    </div>
    <canvas></canvas>
    <!-- variable declare -->
    <script src="setup.js"></script>
    <!-- pencil rect line code -->
   <script src="draw.js"></script>
    <!-- <script>
        //rect,line 
        let canvasBoard = document.querySelector("canvas");
        let tool = canvasBoard.getContext("2d");
        let body = document.querySelector("body");
        canvasBoard.height = window.innerHeight;
        canvasBoard.width = window.innerWidth;
        
        // canavas board -> left  point kitna aage  hai 
        let boardTop = canvasBoard.getBoundingClientRect().top;
        let boardLeft = canvasBoard.getBoundingClientRect().left;
        let iX, iY, fX, fY;
        let drawingMode = false;
        body.addEventListener("mousedown", function (e) {
            iX = e.clientX - boardLeft
            iY=e.clientY - boardTop
            if(cTool=="pencil"|| cTool=="eraser"){
            drawingMode = true;
            tool.beginPath();
            tool.moveTo(iX, iY);
            }
            
        })
        body.addEventListener("mouseup", function (e) { 
            if(cTool=="pencil"|| cTool=="eraser"){
                drawingMode = false;
            }
            else if(cTool=="rect" &&  cTool=="line"){ 
            //rect, line
                fX = e.clientX-BoardLeft;
                fY = e.clientY-BoardTop;
                let width = fX-iX;
                let height = fY-iY;
                if(cTool=="rect"){
                    tool.strokeRect(iX,iY,width,height);
                }else if(cTool=="line"){
                    tool.beginPath();
                    tool.moveTo(iX,iY);
                    tool.lineTo(fX,fY);
                    tool.stroke();
                    console.log("line tool is pending");
                }
            }
        })
        body.addEventListener("mousemove", function (e) {
            if (drawingMode == false)
                return;
                if(cTool=="pencil"){
                    fX = e.clientX - boardLeft;
                    fY = e.clientY - boardTop;
                    tool.lineTo(fX, fY);
                    tool.stroke();
                    iX = fX;
                    iY = fY;
                }
            
        })
    
    </script> -->
    <!-- tool color change -->
    <script src="toolmap.js"></script>
    <!-- <script>
        // tool change
        let pencil = document.querySelector("#pencil");
        let eraser = document.querySelector("#eraser");
        let rect = document.querySelector("#rect");
        let line = document.querySelector("#line");
        let options = document.querySelectorAll("size-box")
        let cTool = pencil;
        //identity-> click-> again click
        pencil.addEventListener("click",function(e){
            if(cTool== "line"){
                //second click-> options show
                options[0].style.display = "flex";
            }
            else{
                // eraser.style.border = "1px solid red";
    
                for(let i=0;i<options.length;i++){
                    options[1].style.display = "none";
                }
                cTool = "pencil";  
                tool.strokeStyle = "lightpink";
                tool.lineWidth = pencilSize
            }
        })
        eraser.addEventListener("click",function(e){
            if(cTool== "eraser"){
                //second click-> options show
                options[1].style.display = "flex";
            }
            else{
                // eraser.style.border = "1px solid red";
                cTool = "eraser";
                for(let i=0;i<options.length;i++){
                    options[2].style.display = "none";
                }
                tool.lineWidth = eraserSize;
            }
        })
        rect.addEventListener("click",function(e){
            if(cTool== "rect"){
                //second click-> options show
                options[3].style.display = "flex";
            }
            else{
                // eraser.style.border = "1px solid red";
    
                for(let i=0;i<options.length;i++){
                    options[i].style.display = "none";
                }
                cTool = "rect";
                tool.strokeStyle = "lightpink";
                tool.lineWidth = rectSize;
            }
        })
        line.addEventListener("click",function(e){
            if(cTool== "line"){
                //second click-> options show
                options[3].style.display = "flex";
            }
            else{
                // eraser.style.border = "1px solid red";
    
                for(let i=0;i<options.length;i++){
                    options[i].style.display = "none";
                }
                cTool = "line";
                tool.strokeStyle = "lightpink";
                 tool.lineWidth = lineSize;
            }
        })
    </script> -->  
    <!-- <script>
        //color change
        let redFill = document.querySelector(".red");
        let greenFill =document.querySelector(".green");
        let blueFill = document.querySelector(".blue");
        
        redFill.addEventListener("click", function(){
            colorArea.style.backgroundColor = "lightpink";
        })
        greenFill.addEventListener("click", function(){
            colorArea.style.backgroundColor = "lightgreen";
        })
        blueFill.addEventListener("click", function(){
            colorArea.style.backgroundColor = "lightblue";
        })
    </script> -->
    <!-- <script>
        let pencilSize = 5;
        let eraserSize = 5;
        let lineSize = 5;
        let rectSize = 5;
        let sizeBoxArr = document.querySelectorAll(".size-box");
        // currentTarget
        sizeBoxArr[0].addEventListener("click", function (e) {
            // actual event  occur -> target
            let elems = ["size1", "size2", "size3", "size4"];
            // class
            // jispe 
            // console.log(e.target);
            let allTheClasses = e.target.classList;
            let firstClass = allTheClasses[0];
            let test = elems.includes(firstClass);
            if (test) {
                // size waale button click;
                if (firstClass == "size1") {
                    pencilSize = 5;
                } else if (firstClass == "size2") {
                    pencilSize = 10;
                } else if (firstClass == "size3") {
                    pencilSize = 15;
                } else if (firstClass == "size4") {
                    pencilSize = 20;
                }
            }
            console.log("pencilsize" + pencilSize);
            tool.lineWidth = pencilSize;
            // event listener -> currentTarget
            // console.log(e.currentTarget)
        })
        sizeBoxArr[1].addEventListener("click", function (e) {
            // actual event  occur -> target
            let elems = ["size1", "size2", "size3", "size4"];
            // class
            // jispe 
            // console.log(e.target);
            let allTheClasses = e.target.classList;
            let firstClass = allTheClasses[0];
            let test = elems.includes(firstClass);

            if (test) {
                // size waale button click;
                if (firstClass == "size1") {
                    eraserSize = 5;
                } else if (firstClass == "size2") {
                    eraserSize = 10;
                } else if (firstClass == "size3") {
                    eraserSize = 15;
                } else if (firstClass == "size4") {
                    eraserSize = 20;
                }
            }
            // console.log("eraser" + eraserSize);
            tool.lineWidth = eraserSize;

            // event listener -> currentTarget
            // console.log(e.currentTarget)
        })
        sizeBoxArr[2].addEventListener("click", function (e) {
            // actual event  occur -> target
            let elems = ["size1", "size2", "size3", "size4"];
            // class
            // jispe 
            // console.log(e.target);
            let allTheClasses = e.target.classList;
            let firstClass = allTheClasses[0];
            let test = elems.includes(firstClass);


            if (test) {
                // size waale button click;
                if (firstClass == "size1") {
                    rectSize = 5;
                } else if (firstClass == "size2") {
                    rectSize = 10;
                } else if (firstClass == "size3") {
                    rectSize = 15;
                } else if (firstClass == "size4") {
                    rectSize = 20;
                }
            }
            tool.lineWidth = rectSize;

            // event listener -> currentTarget
            // console.log(e.currentTarget)
        })
        sizeBoxArr[3].addEventListener("click", function (e) {
            // actual event  occur -> target
            let elems = ["size1", "size2", "size3", "size4"];
            // class
            // jispe 
            // console.log(e.target);
            let allTheClasses = e.target.classList;
            let firstClass = allTheClasses[0];
            let test = elems.includes(firstClass);


            if (test) {
                // size waale button click;
                if (firstClass == "size1") {
                    lineSize = 5;
                } else if (firstClass == "size2") {
                    lineSize = 10;
                } else if (firstClass == "size3") {
                    lineSize = 15;
                } else if (firstClass == "size4") {
                    lineSize = 20;
                }
            }
            tool.lineWidth = lineSize;

            // event listener -> currentTarget
            // console.log(e.currentTarget)
        })
    </script> -->
    <script src="sticky.js"></script>
    
</body>

</html>